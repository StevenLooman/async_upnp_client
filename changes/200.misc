Only calculate client min/max/valid once (@bdraco)
